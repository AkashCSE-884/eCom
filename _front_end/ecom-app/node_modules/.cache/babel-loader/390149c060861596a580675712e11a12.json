{"ast":null,"code":"var _jsxFileName = \"E:\\\\xampp\\\\htdocs\\\\ecom\\\\FRONT_END\\\\ecom-app\\\\src\\\\admin\\\\UpdateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Ecom from \"../Ecom.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UpdateProduct() {\n  _s();\n\n  const [image, setimage] = useState(\"\");\n\n  const dataUpdate = async e => {\n    // $('#product').parsley();\n    e.preventDefault();\n    let token = JSON.parse(Ecom.getCookie(\"session-member-record\"));\n    const frm = new FormData(document.getElementById(\"product\"));\n    frm.append(\"image_path\", image);\n    frm.append(\"crp\", token[\"user\"][\"id\"] + token[\"user\"][\"email\"]);\n    const req = await fetch(\"http://127.0.0.1:8000/api/product/insert\", {\n      headers: new Headers({\n        Authorization: \"Bearer \" + token[\"access_token\"]\n      }),\n      method: \"POST\",\n      body: frm\n    });\n    let res = await req.json();\n\n    if (res.ret_data) {\n      window.location.href = \"/home\";\n    } else {\n      console.log(\"Something went wrong\");\n    }\n  };\n\n  const changeImage = e => {\n    let file = e.target.files[0];\n    var picture = new FileReader();\n    picture.readAsDataURL(e.target.files[0]);\n\n    picture.onload = e => {\n      document.getElementById(\"imgSrc\").innerHTML = `<img src=\"${e.target.result}\"  name=\"img\" id=\"upImg\" style=\"width: 250px; height: 150px\"/> `;\n    };\n\n    let r = getFileFromUrl(document.getElementById(\"upImg\").src, document.getElementById(\"upImg\").name);\n    console.log(r);\n  };\n\n  async function getFileFromUrl(url, name) {\n    let defaultType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"image/png\";\n    const response = await fetch(url);\n    const data = await response.blob();\n    return new File([data], name, {\n      type: data.type || defaultType\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade\",\n      id: \"staticBackdrop\",\n      \"data-bs-backdrop\": \"static\",\n      \"data-bs-keyboard\": \"false\",\n      tabIndex: \"-1\",\n      \"aria-labelledby\": \"staticBackdropLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            \"data-bs-dismiss\": \"modal\",\n            style: {\n              position: \"absolute\",\n              top: 4,\n              right: 4\n            },\n            \"aria-label\": \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"add-products\",\n            id: \"product\",\n            encType: \"multipart/form-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Add Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"productName\",\n                className: \"form-label\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"productName\",\n                name: \"name\",\n                \"data-parsley-trigger\": \"keyup\",\n                required: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"content\",\n                className: \"form-label\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"form-control\",\n                id: \"content\",\n                name: \"content\",\n                rows: \"3\",\n                \"aria-label\": \"\",\n                required: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"price\",\n                className: \"form-label\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"form-control\",\n                id: \"price\",\n                name: \"price\",\n                required: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"Image\",\n                  className: \"form-label\",\n                  children: \"Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"form-control\",\n                  id: \"Image\",\n                  name: \"image\",\n                  onChange: changeImage,\n                  accept: \"image/png, image/jpg\",\n                  required: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                id: \"imgSrc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(UpdateProduct, \"q0baBOOoGDdHqDn/5f5+/KywlHA=\");\n\n_c = UpdateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProduct\");","map":{"version":3,"sources":["E:/xampp/htdocs/ecom/FRONT_END/ecom-app/src/admin/UpdateProduct.js"],"names":["React","useState","Ecom","UpdateProduct","image","setimage","dataUpdate","e","preventDefault","token","JSON","parse","getCookie","frm","FormData","document","getElementById","append","req","fetch","headers","Headers","Authorization","method","body","res","json","ret_data","window","location","href","console","log","changeImage","file","target","files","picture","FileReader","readAsDataURL","onload","innerHTML","result","r","getFileFromUrl","src","name","url","defaultType","response","data","blob","File","type","position","top","right"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,YAAjB;;;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACpC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMK,UAAU,GAAG,MAAOC,CAAP,IAAa;AAC5B;AACAA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWT,IAAI,CAACU,SAAL,CAAe,uBAAf,CAAX,CAAZ;AACA,UAAMC,GAAG,GAAG,IAAIC,QAAJ,CAAaC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAb,CAAZ;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,YAAX,EAAyBb,KAAzB;AACAS,IAAAA,GAAG,CAACI,MAAJ,CAAW,KAAX,EAAkBR,KAAK,CAAC,MAAD,CAAL,CAAc,IAAd,IAAsBA,KAAK,CAAC,MAAD,CAAL,CAAc,OAAd,CAAxC;AAEA,UAAMS,GAAG,GAAG,MAAMC,KAAK,CAAC,0CAAD,EAA6C;AAChEC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjBC,QAAAA,aAAa,EAAE,YAAYb,KAAK,CAAC,cAAD;AADf,OAAZ,CADuD;AAIhEc,MAAAA,MAAM,EAAE,MAJwD;AAKhEC,MAAAA,IAAI,EAAEX;AAL0D,KAA7C,CAAvB;AAOA,QAAIY,GAAG,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAhB;;AACA,QAAID,GAAG,CAACE,QAAR,EAAkB;AACdC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACH,KAFD,MAEO;AACHC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACH;AACJ,GAtBD;;AAuBA,QAAMC,WAAW,GAAI1B,CAAD,IAAO;AACvB,QAAI2B,IAAI,GAAG3B,CAAC,CAAC4B,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;AACA,QAAIC,OAAO,GAAG,IAAIC,UAAJ,EAAd;AACAD,IAAAA,OAAO,CAACE,aAAR,CAAsBhC,CAAC,CAAC4B,MAAF,CAASC,KAAT,CAAe,CAAf,CAAtB;;AACAC,IAAAA,OAAO,CAACG,MAAR,GAAkBjC,CAAD,IAAO;AACpBQ,MAAAA,QAAQ,CAACC,cAAT,CACI,QADJ,EAEEyB,SAFF,GAEe,aAAYlC,CAAC,CAAC4B,MAAF,CAASO,MAAO,iEAF3C;AAGH,KAJD;;AAOA,QAAIC,CAAC,GAAIC,cAAc,CAAC7B,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiC6B,GAAlC,EAAuC9B,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiC8B,IAAxE,CAAvB;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAYW,CAAZ;AACH,GAbD;;AAeA,iBAAeC,cAAf,CAA8BG,GAA9B,EAAmCD,IAAnC,EAAoE;AAAA,QAA3BE,WAA2B,uEAAb,WAAa;AAChE,UAAMC,QAAQ,GAAG,MAAM9B,KAAK,CAAC4B,GAAD,CAA5B;AACA,UAAMG,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;AACA,WAAO,IAAIC,IAAJ,CAAS,CAACF,IAAD,CAAT,EAAiBJ,IAAjB,EAAuB;AAC1BO,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAAL,IAAaL;AADO,KAAvB,CAAP;AAGH;;AACD,sBACI;AAAA,2BACI;AACI,MAAA,SAAS,EAAC,YADd;AAEI,MAAA,EAAE,EAAC,gBAFP;AAGI,0BAAiB,QAHrB;AAII,0BAAiB,OAJrB;AAKI,MAAA,QAAQ,EAAC,IALb;AAMI,yBAAgB,qBANpB;AAOI,qBAAY,MAPhB;AAAA,6BASI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACI;AACI,UAAA,SAAS,EAAC,eADd;AAEI,UAAA,KAAK,EAAE;AAAEM,YAAAA,QAAQ,EAAE;AAAZ,WAFX;AAAA,kCAII;AACI,YAAA,IAAI,EAAC,QADT;AAEI,YAAA,SAAS,EAAC,WAFd;AAGI,+BAAgB,OAHpB;AAII,YAAA,KAAK,EAAE;AAAEA,cAAAA,QAAQ,EAAE,UAAZ;AAAwBC,cAAAA,GAAG,EAAE,CAA7B;AAAgCC,cAAAA,KAAK,EAAE;AAAvC,aAJX;AAKI,0BAAW;AALf;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAWI;AACI,YAAA,SAAS,EAAC,cADd;AAEI,YAAA,EAAE,EAAC,SAFP;AAGI,YAAA,OAAO,EAAC,qBAHZ;AAAA,oCAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACI;AACI,gBAAA,OAAO,EAAC,aADZ;AAEI,gBAAA,SAAS,EAAC,YAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAOI;AACI,gBAAA,IAAI,EAAC,MADT;AAEI,gBAAA,SAAS,EAAC,cAFd;AAGI,gBAAA,EAAE,EAAC,aAHP;AAII,gBAAA,IAAI,EAAC,MAJT;AAKI,wCAAqB,OALzB;AAMI,gBAAA,QAAQ,EAAC;AANb;AAAA;AAAA;AAAA;AAAA,sBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAsBI;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACI;AAAO,gBAAA,OAAO,EAAC,SAAf;AAAyB,gBAAA,SAAS,EAAC,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII;AACI,gBAAA,SAAS,EAAC,cADd;AAEI,gBAAA,EAAE,EAAC,SAFP;AAGI,gBAAA,IAAI,EAAC,SAHT;AAII,gBAAA,IAAI,EAAC,GAJT;AAKI,8BAAW,EALf;AAMI,gBAAA,QAAQ,EAAC;AANb;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtBJ,eAmCI;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACI;AAAO,gBAAA,OAAO,EAAC,OAAf;AAAuB,gBAAA,SAAS,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII;AACI,gBAAA,IAAI,EAAC,QADT;AAEI,gBAAA,SAAS,EAAC,cAFd;AAGI,gBAAA,EAAE,EAAC,OAHP;AAII,gBAAA,IAAI,EAAC,OAJT;AAKI,gBAAA,QAAQ,EAAC;AALb;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnCJ,eA+CI;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,wCACI;AACI,kBAAA,OAAO,EAAC,OADZ;AAEI,kBAAA,SAAS,EAAC,YAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAOI;AACI,kBAAA,IAAI,EAAC,MADT;AAEI,kBAAA,SAAS,EAAC,cAFd;AAGI,kBAAA,EAAE,EAAC,OAHP;AAII,kBAAA,IAAI,EAAC,OAJT;AAKI,kBAAA,QAAQ,EAAEvB,WALd;AAMI,kBAAA,MAAM,EAAC,sBANX;AAOI,kBAAA,QAAQ,EAAC;AAPb;AAAA;AAAA;AAAA;AAAA,wBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAkBI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAA0B,gBAAA,EAAE,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,sBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/CJ,eAmEI;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnEJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAmGH;;GAnJuB9B,a;;KAAAA,a","sourcesContent":["import React, { useState } from \"react\";\nimport Ecom from \"../Ecom.js\";\n\nexport default function UpdateProduct() {\n    const [image, setimage] = useState(\"\");\n\n    const dataUpdate = async (e) => {\n        // $('#product').parsley();\n        e.preventDefault();\n\n        let token = JSON.parse(Ecom.getCookie(\"session-member-record\"));\n        const frm = new FormData(document.getElementById(\"product\"));\n        frm.append(\"image_path\", image);\n        frm.append(\"crp\", token[\"user\"][\"id\"] + token[\"user\"][\"email\"]);\n\n        const req = await fetch(\"http://127.0.0.1:8000/api/product/insert\", {\n            headers: new Headers({\n                Authorization: \"Bearer \" + token[\"access_token\"],\n            }),\n            method: \"POST\",\n            body: frm,\n        });\n        let res = await req.json();\n        if (res.ret_data) {\n            window.location.href = \"/home\";\n        } else {\n            console.log(\"Something went wrong\");\n        }\n    };\n    const changeImage = (e) => {\n        let file = e.target.files[0];\n        var picture = new FileReader();\n        picture.readAsDataURL(e.target.files[0]);\n        picture.onload = (e) => {\n            document.getElementById(\n                \"imgSrc\"\n            ).innerHTML = `<img src=\"${e.target.result}\"  name=\"img\" id=\"upImg\" style=\"width: 250px; height: 150px\"/> `;\n        };\n\n\n        let r =  getFileFromUrl(document.getElementById(\"upImg\").src, document.getElementById(\"upImg\").name);\n        console.log(r)\n    };\n\n    async function getFileFromUrl(url, name, defaultType = \"image/png\") {\n        const response = await fetch(url);\n        const data = await response.blob();\n        return new File([data], name, {\n            type: data.type || defaultType,\n        });\n    }\n    return (\n        <>\n            <div\n                className=\"modal fade\"\n                id=\"staticBackdrop\"\n                data-bs-backdrop=\"static\"\n                data-bs-keyboard=\"false\"\n                tabIndex=\"-1\"\n                aria-labelledby=\"staticBackdropLabel\"\n                aria-hidden=\"true\"\n            >\n                <div className=\"modal-dialog\">\n                    <div\n                        className=\"modal-content\"\n                        style={{ position: \"relative\" }}\n                    >\n                        <button\n                            type=\"button\"\n                            className=\"btn-close\"\n                            data-bs-dismiss=\"modal\"\n                            style={{ position: \"absolute\", top: 4, right: 4 }}\n                            aria-label=\"Close\"\n                        ></button>\n                        <form\n                            className=\"add-products\"\n                            id=\"product\"\n                            encType=\"multipart/form-data\"\n                        >\n                            <h1>Add Product</h1>\n                            <div className=\"mb-3\">\n                                <label\n                                    htmlFor=\"productName\"\n                                    className=\"form-label\"\n                                >\n                                    Name\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    id=\"productName\"\n                                    name=\"name\"\n                                    data-parsley-trigger=\"keyup\"\n                                    required=\"\"\n                                />\n                            </div>\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"content\" className=\"form-label\">\n                                    Description\n                                </label>\n                                <textarea\n                                    className=\"form-control\"\n                                    id=\"content\"\n                                    name=\"content\"\n                                    rows=\"3\"\n                                    aria-label=\"\"\n                                    required=\"\"\n                                ></textarea>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"price\" className=\"form-label\">\n                                    Price\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    className=\"form-control\"\n                                    id=\"price\"\n                                    name=\"price\"\n                                    required=\"\"\n                                />\n                            </div>\n                            <div className=\"mb-3 row\">\n                                <div className=\"col-md-6\">\n                                    <label\n                                        htmlFor=\"Image\"\n                                        className=\"form-label\"\n                                    >\n                                        Image\n                                    </label>\n                                    <input\n                                        type=\"file\"\n                                        className=\"form-control\"\n                                        id=\"Image\"\n                                        name=\"image\"\n                                        onChange={changeImage}\n                                        accept=\"image/png, image/jpg\"\n                                        required=\"\"\n                                    />\n                                </div>\n                                <div className=\"col-md-6\" id=\"imgSrc\"></div>\n                            </div>\n                            <button type=\"button\" className=\"btn btn-primary\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}